created: 20190828114206388
creator: Jerry
modified: 20190919194456626
modifier: Jerry
tags: [[monte carlo]]
title: 3. 随机变量与概率
type: text/vnd.tiddlywiki

{{monte carlo}}

本章译者：刘嘉鹏

校验进行中：Jerry





统计和概率是两个相当复杂和大的话题。我们的个人观点是市面上基本没有确实能正确的解释清楚这个领域的参考读物或者书籍，尤其是对该主题一无所知的人。它们要么提供大量无意义的例子，而不解释理论，要么只是以方程式和定义的形式给出理论，却没有切实可行的解释它们的含义。我们相信这一课是迄今为止在网络上介绍的有关概率和统计方面最好的讲解之一（至少是我们找到的所有文档中最好的）。

这一课不是统计学的完整介绍。这更像是个速成课程，希望能提供关于主题的足够信息，让大家了解在（计算机）渲染中（特别是关于蒙特卡罗方法相关的渲染中）统计方法和概率是如何、为什么，以及什么地方被使用的。



本课的第一章将致力于介绍、解释和理解什么是随机变量。随机变量的概念是概率论的核心，也是更加具体渲染的核心。随机变量概念经常被误解，特别是程序员们认为它们是一些C++函数在给定的区间内返回一些任意的数字。这不是随机变量！让我们举个例子，从抛硬币开始吧。抛出一枚硬币就是我们所说的`随机过程(random process)`的一个例子，因为在你抛硬币之前，你不能预测它落地后是正面还是反面。骰子、轮盘赌、彩票等也是如此。尽管许多自然现象可以被认为是随机过程（每天下雨是一个随机过程），还有我们提到的机会游戏的例子，那么在最开始的时候是什么动力让数学家有兴趣去家研究和开发统计学的。为什么？读这个：

伦敦和巴黎的城市充满了购物机会，以及在一些高额赌注中丧失家庭财富的机会[ 指的是十七世纪和十八世纪的贵族生活和财富]。赌博游戏一直很受欢迎，越大的城市赌博游戏的赌注越大。由于所有这些支出，贵族（总是）需要更多的钱。

[{{ :math:mc-series:coin.png?direct|图 1：硬币正面朝上的概率是0.5}}]

在这种情况下，不难理解为什么当时的数学家真的有兴趣试图通过方程式的形式，试着去了解是否存在任何可能的方式来判断他们赌赢或赌输的几率（对这一历史部分感兴趣的读者可以搜索Comte de Buffon和de Moivre等）。因为硬币的正面和反面不适合带入方程式中，所以他们做的第一件事就是映射编号到随机过程的每个可能的结果。换句话说，他们说，如果硬币正面朝上，则分配1，如果硬币反面朝上则为0，你可以用数学符号形式化为：

$$
X(\omega) = 
\begin{cases}
1, & \text{if} \ \ \omega = \text{heads} ,\\
\\
 0, & \text{if} \ \ \omega = \text{tails} .
\end{cases}
$$




这似乎是一个非常简单的想法，但是以前没有人做过，而且这个表达式实际上可能比起初更复杂。左边的术语$$X$$是所谓的`随机变量（random variable)`。注意我们是如何表达这个术语的，它看起来好像是实际上需要参数$$\omega$$的一个函数。文中术语$$\omega$$是我们所指的随机过程中的`结果（outcome）`。在我们的硬币示例中，结果可以是“正面”或“反面”，换句话说，随机变量是将随机过程的可能结果（正面或反面）映射到数字（1或0，但是注意不止有1和0是对的，您喜欢的任何其他数字，例如12和23或567和1027都可以表示。将过程的结果映射成什么数字取决于你）。比如写一个方程式$$f(x)=2×+3$$其中上式中的$$X(\omega)$$类似于$$f(x)$$。如你所见，随机变量不是固定值。它更像是一个函数，但变量就其名字而言显然让情况变得迷惑，因为这个名词通常用来表示方程中的未知数。或许它应该被叫做随机函数，但是随机函数在概率论中已经有另一个含义了。我们要始终记住随机变量不是固定值，而是一个函数。它将随机过程的每个可能结果（不一定是数字，比如“正面”，“反面”）映射或关联到唯一的数值。

随机变量是将实验结果集映射到数字集的函数$$X(e)$$。

这还不是随机变量的完整定义。与随机变量定义相关的另一个概念是概率。硬币的例子很方便，因为你不需要是一个统计专家，知道或直观地同意当你掷硬币的时候获得“正面”或“反面”的机会是50-50（我们的共识）。那是因为无论我们如何把它扔在空中，也不可能出现既是正面也是反面的情况。50-50的意思是说，硬币有相同的可能性要么是“正面”要么是“反面”。如果你将“概率”取代“几率”，那么我们可以更正式地说，正面或反面的概率分别为$$\frac12$$和$$\frac12$$。概率概念当然是非常重要的，因为随机过程按照定义来说是产生不可预测的结果的，然而概率被用来描述随机过程发生的特定事件的可能性。这比我们想象的要好，因为对于数学中不可预测的东西，我们现在有了“量化”这些事件的方法（以概率的形式），并用数学工具来做一系列（有用的）事情。在投掷骰子的情况下，获得1,2,3,4,5或6的概率为$$\frac16$$。通常，找出结果概率的公式是1除以可能结果的数量（假设所有事件`等可能的`，这被称为`等概率`）。在骰子示例中，结果有6种情况，因此获得1，2，...或6的概率是$$\frac16$$。

总的来说，我们可以得出,如果一些事件的结果一定是n种情况中的一种，而且不同的结果发生可能性相同，则每个结果的概率为$$\frac1n$$。

[{{ :math:mc-series:die.png?direct|图 2：骰子的每个面的概率是1/6}}]


图1和图2展示了您可以表示与随机过程的每个结果相关联的概率的方式（例如抛掷硬币或投骰子）。在x轴上，我们记下随机过程的可能结果，而在y轴上，我们记下与这些结果中的每一个相关联的概率。这给我们提供了一个更好的随机变量的定义。你不仅可以看到将某个结果映射到实数，还可以看到将概率值与这些结果中的每一个相关联。换句话说，$$X$$提供与随机过程的结果相关联的信息以及该结果发生的概率的值。

概率本身可以以不同的方式表示，但通常以$$P$$或者$$Pr$$表示。当你在教科书中看到$$Pr(1)$$时，这意味着“实验结果为1的概率是多少？”。你也可以写$$Pr(odd)$$表示“实验结果为奇数的概率是多少？”。 概率可以用两种不同的方式解释。你可以认为它们是一些事件发生的几率有”多强烈“。然而，如果你意识到在某些条件下，在100次运行实验中，有一些结果发生了10次，那么概率也可以被界定为“如果你在相同的条件下运行该实验100次，那么你可以预期这个结果会发生10次”。对于概率是有一些不同的解释，但是我们刚才描述的“证据”概率（或叫贝叶斯概率）和“物理”概率是两种最常见的解释。

----
! 术语 


术语在统计学中基本就是全部。概率理论中概念非常多以至于它们之间的差异有时是很微妙的，因此给予它们清晰的定义是非常重要的。引用维基百科有关统计学的一句话是“当约定没有严格遵守时，就会导致困惑((原文是：confusion results when conventions are not strictly observed))”。在数学中，随机变量通常用大写字母表示，如$$X,Y,..,Z$$。随机过程的结果称为`observation`，或者有时是`realizations`或`observed value`。例如，抛出一个骰子的过程是我们所说的随机过程，但是这个过程的结果就是我们所说的观察结果，而观察结果通常用小写字母表示，如$$x,y,..,z$$等。如果掷骰子$$n$$次，则观测结果表示为$$x_1,x_2,..,x_n$$。这个定义与`事件`的定义略有不同。实验中一组可能的结果集合定义了我们称之为的事件。例如，我们可以说，如果骰子的结果是奇数（即1或3或5），则某些事件发生了。最后一个与随机变量相关的重要概念就是`样本空间`。样本空间定义了来自实验的所有可能结果的集合。例如，在骰子示例中，样本空间被定义为$$S=\{1,2,3,4,5,6\}$$（有时也使用希腊字母$$\omega$$，但是我们将在本课中用$$S$$表示）。事件可以看作是样本空间的一个子集。例如，如果事件$$A$$是奇数发生了，则$$A$$可以被定义为$$A=\{1,3,5\}$$，组中的每个结果通常称为该集合的`成员`。

样本空间可用于定义`基本事件`或`非基本事件`。我们来解释一下。想象一下，您有10张卡片标签，每张卡片上标有数字0，1或2.现在让我们想象一下，您有3张卡片标有0，5张标有1，2张标有2。非基本事件的样本空间是$$S=\{0,0,0,1,1,1,1,1,2,2\}$$，基本事件的样本空间为$$S=\{0,1,2\}$$ 。


当你说某个事件发生时，你实际上可能意味着两件事。首先，观察(或实验的结果)满足事件的定义(例如，如果掷骰子的结果是奇数，而事件A定义为奇数事件，则事件A发生)。其次，身为样本空间中众多可能的元素之一的观察值，也是该事件的一个元素（如果观察是3，3是子集$$A=\{1,3,5\}$$的元素。）


|图 3：随机变量可以是离散的或者连续的。|c
|  随机变量|随机变量是从样本空间S（例如，“正面”，“反面”）到可测量空间（1,0）定义的函数$$X$$. 随机变量用大写字母表示。                              |
|  概率|概率提供了特定事件的可能发生的量化描述。                                                                    |
|  Observation or Realization|随机变量的实现或观察值是实际观察到的值（实际发生的）。实现用小写字母表示（将它们与随机变量区分开）。                                      |
|  事件|事件是实验结果的任何集合。样本空间的任何子集都是一个事件。                                                           |
|  样本空间|实验的所有可能结果的详尽清单。实验的每个可能的结果由样本空间中的一个且仅一个元素表示，其通常记为$$S$$。样本空间的元素（或成员）个数多少，可以被认为是事情发生的所有可能性。  |


随机变量有两种风格。它们可以是离散的或连续的。当随机变量离散时，随机过程的结果只能得到精确值。掷骰子、抛硬币或者网中鱼的数目都是实验的例子，其结果只能由离散随机变量测量，因为它们产生`有限（finite）`或`可数无穷（countably infinite）`数量的值（有限和可数无穷之间的区别很重要，尽管样本空间中的元素可能有无限个，但是该样本空间中的每个元素是可数的，并关联到一个数字）。温度测量可以被认为是连续随机变量的一个例子。为什么？因为实验测量温度可能需要的值可能落在连续体上（continuum）。测量时间和距离的随机变量也通常是连续类型。

因为统计和概率的主题已经非常大了，在这个课程中我们将主要关注离散随机变量。在学习重要性采样的时候将对连续随机变量进行研究。在下一章中，我们将介绍与随机变量相关的最重要的概念可能是什么：`概率分布（probability distribution）`的概念。然后我们将研究概率的性质以及与之相关的一些概念。


