created: 20190818102727279
creator: Jerry
modified: 20190827150949816
modifier: Jerry
tags: sidelight 
title: X86 VS X86-64
type: text/vnd.tiddlywiki

作者：liuex<br/>
链接：https://www.oschina.net/question/88981_52351?sort=default&p=1<br/>
来源：开源中国

著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

      x86是指intel的开发的一种32位指令集，从386开始时代开始的，一直沿用至今，是一种cisc指令集，所有intel早期的cpu，amd早期的cpu都支持这种指令集，ntel官方文档里面称为“IA-32” x84_64是x86 CPU开始迈向64位的时候，有2选择：1、向下兼容x86。2、完全重新设计指令集，不兼容x86。AMD抢跑了，比Intel率先制造出了商用的兼容x86的CPU，AMD称之为AMD64，抢了64位PC的第一桶金，得到了用户的认同。而Intel选择了设计一种不兼容x86的全新64为指令集，称之为IA-64（这玩意似乎就是安腾），但是比amd晚了一步，而且IA-64也挺惨淡的，因为是全新设计的CPU，没有编译器，也不支持windows（微软把intel给忽悠了，承诺了会出安腾版windows server版，但是迟迟拿不出东西）。。。后来不得不在时机落后的情况下也开始支持AMD64的指令集，但是换了个名字，叫x86_64，表示是x86指令集的64扩展，大概是不愿意承认这玩意是AMD设计出来的。 也就是说实际上，x86_64,x64,AMD64基本上是同一个东西，我们现在用的intel/amd的桌面级CPU基本上都是x86_64，与之相对的arm,ppc等都不是x86_64。 x86、x86_64主要的区别就是32位和64位的问题，x86中只有8个32位通用寄存器，eax,ebx,ecx，edx, ebp, esp, esi, edi。x86_64把这8个通用寄存器扩展成了64位的，并且比x86增加了若干个寄存器（好像增加了8个，变成了总共16个通用寄存器）。同样的MMX的寄存器的位数和数量也进行了扩展。此外cpu扩展到64位后也能支持更多的内存了，等等许多好处。 对于普通程序来说，CPU位数的扩展、寄存器数量的增加不会带来明显的性能提升，比如IE浏览器、Office办公这类的软件。特定的程序很能够充分利用64位CPU、更多的寄存器带来的优势，比如MMX除了能提升多媒体程序的性能，对矩阵、多项式、向量计算都能带来提升，更多的MMX寄存器、更大的寄存器字长都有利于SIMD指令的执行，能够提升CPU对数据的吞吐量（RISC指令集的CPU动不动就有数百个寄存器，可以有效的缓存中间计算结果，不需要把中间结果写入内存，从而减少内存访问次数，显著提升性能）

作者：李响<br/>
链接：https://www.zhihu.com/question/19573226/answer/14267936<br/>
来源：知乎<br/>

著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

      x86架构首度出现在1978年推出的Intel 8086中央处理器，它是从Intel 8008处理器中发展而来的，而8008则是发展自Intel 4004的。Intel之后又推出了包括80186、80286、80386以及80486。 在设计上，这些后续的处理器使用的指令集都是在8086的基础上添加新支持的指令进行改进的，因此可以说都是向下兼容的(backward compatibie)，即能再8086上运行的程序在80486上也一定能运行。由于都是以86结尾（不过8088也是x86），所以把这一系列的指令 集 称之为x86指令集（架构）。准确的来讲，x86这一术语并不是指的某一个（具体CPU使用的）具体的指令集，而是在8086（的指令集）基础上发展而来 的所有指令集的泛称。实际上，在80486以后Intel推出的绝大多数CPU都是“x86”的，包括Pentium 、Pentium Pro 、Pentium MMX ，Pentium 2 ，还有后面的Pentium 3、Pentium 4 、Pentium D 、Core 全系列，(x86系列的) Xeon。另外，使用x86架构的处理器制造商远非Intel一家，最著名的就是AMD，其他的还有VIA，Cyrix。具体的产品及特性可以见附录的表 格。可以说，x86架构就是桌面级CPU的标准，你能买到的品牌或者组装的PC，几乎没有不是x86 CPU的。不过虽说都是x86的，但只能说明使用的指令集是兼容8086的，除8086指令集之外的其他指令支持情况就不一样；其内部实现的微体系结构 microarchitecture显然也是各自不同，就好比Linux和Unix虽然都是POSIX兼容的OS，都有fork这个系统调用，但是这个调 用的实现确实各不相同。从1985年80386开始，intel通过对x86架构进行32位的扩展，实现了32位CPU，而之前的都是16位。Intel把支持32位的 x86指令集架构命名为ia-32(Intel Architecture 32bit)。实际上由于32位x86处理器的统治性，术语“x86”几乎等于IA-32，即32位的x86或x86-32，例如Windows和 Linux发行版的32位命名都是x86（而不是x86-32或ia-32）。后来的“x86-64”名称也继续强化了这种约定方式。这里还是要强调 x86是一系列架构的泛称，支持16位、32位和64位的指令都有。该来的还是会来，在1999年，AMD宣布了x86-64架构。其实 现方式与之前的80386思路一致，继续对IA-32扩展，增加64位通用寄存器、证书预算单元和逻辑操作，支持64位虚地址；向前兼容ia-32。 2003年第一款x86-64处理器发布，AMD Operon。同时AMD也将x86-64正式命名为AMD64。这下Intel彻底2B了（原因后面说），以前都是AMD小弟追随者Intel大哥的脚 步，如今AMD先实现了64位民用桌面级CPU。其实Intel也有其64位计划，在2004年的IDF上，Intel承认其64 位计划，命名为ia-32e，即ia-32 extension，之后又改成EM64T，Extended Memory 64 Technology，最终命名为Intel64。 实际上EM64T与AMD64几乎相同。早期EM64T不兼容AMD64的少量指令，但是由于AMD在64位技术中的领先地位，Intel2005年不得 不宣布将完全兼容AMD64。所以现在装的64位版本操作系统从没有说是面向Intel还是AMD的。不过在称谓上，大多数厂商还是使用 x86-64（x86_64，或者就是x64）来称呼此架构，从而保持中立。“i386“和”i486″作为Intel 80386和80486处理器的别名是比较显然的。由于不能使用数字作为注册商标，而且也需要一个正式的名称命名，从586开始就变为Pentium了， 这时候i586就作为了最原始Pentium的微处理架构“P5”的别名，同样的i686对P6(Pentium Pro使用)，i786对应P68，或NetBurst架构。在我看来，在软件包的命名上使用“i某86”时应该是说适用于使用这一代微架构的CPU。但微架构是硬件上事，因此还是在说明适用对应CPU使用的 指令集。比如，i386对应IA-32，并且由于兼容性肯定适用于i486~i686；i686不仅适用Pentium Pro，也适用K7架构的Athlon。前文提到Intel在AMD推出民用64位技术后很被动。其实Intel也有64位x86 CPU的计划，但是由于对于这个市场的不重视，认为需求不足，一直不见面世。而在对64位需求更加强劲的企业服务器和高性能计算市场上，1994年HP就 和 Intel合作开始开发一款与x86架构完全没关系的全新的IA-64架构。显然IA-64不兼容x86-64更别说IA32，IA64天生就是64位，基于显式并行指令运算（EPIC）。 2001年第一款IA-64架构的处理器Itanium安腾发布。可见，IA-64跟IA-32在实现上没有什么关系，跟x86-64也是完全并行的两种 架构，x86架构的Intel的Xeon就是Intel Itanium的竞争对手之一。后来Intel把IA-64也干脆改称为Intel Itanium架构。

 ¶ 